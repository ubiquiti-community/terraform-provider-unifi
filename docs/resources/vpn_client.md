---
page_title: Vpn Client (Resource)
subcategory: ""
description: |-
  unifi_vpn_client manages WireGuard VPN client connections in the UniFi controller.
---

# Vpn Client (Resource)

`unifi_vpn_client` manages WireGuard VPN client connections in the UniFi controller.

## Example Usage

```terraform
resource "unifi_vpn_client" "wireguard_file" {
  name          = "my-wireguard-vpn"
  enabled       = true
  subnet        = "10.0.0.2/24"
  default_route = true
  pull_dns      = false

  wireguard = {
    private_key = "your_base64_private_key_here"
    interface   = "wan"

    configuration = {
      content  = filebase64("${path.module}/wireguard.conf")
      filename = "wireguard.conf"
    }
  }
}

resource "unifi_vpn_client" "wireguard_manual" {
  name          = "my-manual-wireguard"
  enabled       = true
  subnet        = "10.0.1.2/24"
  default_route = false
  pull_dns      = true

  wireguard = {
    private_key = "your_base64_private_key_here"
    interface   = "wan"
    dns_servers = ["8.8.8.8", "8.8.4.4"]

    peer = {
      ip         = "203.0.113.1"
      port       = 51820
      public_key = "your_peer_public_key_here"
    }
  }
}

resource "unifi_vpn_client" "wireguard_with_psk" {
  name          = "secure-wireguard"
  enabled       = true
  subnet        = "10.0.2.2/24"
  default_route = true
  pull_dns      = false

  wireguard = {
    private_key           = "your_base64_private_key_here"
    preshared_key_enabled = true
    preshared_key         = "your_preshared_key_here"
    interface             = "wan"
    dns_servers           = ["8.8.8.8", "8.8.4.4"]

    peer = {
      ip         = "203.0.113.1"
      port       = 51820
      public_key = "your_peer_public_key_here"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the VPN client.
- `subnet` (String) The local IP address for the WireGuard tunnel in CIDR notation (e.g., `10.0.0.2/24`).
- `wireguard` (Attributes) WireGuard VPN configuration. Specify either `configuration` for file upload mode or `peer` for manual configuration. (see [below for nested schema](#nestedatt--wireguard))

### Optional

- `default_route` (Boolean) Specifies whether to use the VPN as the default route.
- `enabled` (Boolean) Specifies whether the VPN client is enabled.
- `pull_dns` (Boolean) Specifies whether to pull DNS servers from the VPN.
- `site` (String) The name of the site to associate the VPN client with.

### Read-Only

- `id` (String) The ID of the VPN client.

<a id="nestedatt--wireguard"></a>
### Nested Schema for `wireguard`

Required:

- `private_key` (String, Sensitive) WireGuard private key for this client.

Optional:

- `configuration` (Attributes) File-based WireGuard configuration. Provide a complete WireGuard .conf file. (see [below for nested schema](#nestedatt--wireguard--configuration))
- `dns_servers` (List of String) DNS servers for the WireGuard interface. Required for manual mode. Must specify 1-2 DNS server addresses.
- `interface` (String) WAN interface to use for the VPN connection (e.g., `wan`, `wan2`).
- `peer` (Attributes) Manual WireGuard peer configuration. Specify peer endpoint and public key. (see [below for nested schema](#nestedatt--wireguard--peer))
- `preshared_key` (String, Sensitive) WireGuard preshared key. Required when preshared_key_enabled is true.
- `preshared_key_enabled` (Boolean) Specifies whether to use a preshared key for additional security.

<a id="nestedatt--wireguard--configuration"></a>
### Nested Schema for `wireguard.configuration`

Required:

- `content` (String, Sensitive) Base64-encoded WireGuard configuration file content.
- `filename` (String) Filename of the WireGuard configuration file.


<a id="nestedatt--wireguard--peer"></a>
### Nested Schema for `wireguard.peer`

Required:

- `ip` (String) WireGuard peer endpoint IP address.
- `port` (Number) WireGuard peer endpoint port.
- `public_key` (String, Sensitive) WireGuard peer public key.

## Import

Import is supported using the following syntax:

```shell
# Import a VPN client by ID
terraform import unifi_vpn_client.wireguard_vpn 507f1f77bcf86cd799439011
```
